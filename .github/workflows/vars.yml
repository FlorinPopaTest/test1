# test1/.github/workflows/vars.yml
name: Variables Template

on:
  workflow_call: {}

jobs:
  vars:   # ðŸ”¥ MUST MATCH needs: vars in the main workflow
    runs-on: windows-latest

    outputs:
      COMPANY_NAME: ${{ steps.setvars.outputs.COMPANY_NAME }}
      CURRENT_YEAR: ${{ steps.setvars.outputs.CURRENT_YEAR }}

    steps:
      - name: Calculate variables
        id: setvars
        shell: pwsh
        run: |
          "COMPANY_NAME=My Company" >> $Env:GITHUB_OUTPUT
          "CURRENT_YEAR=$(Get-Date -Format yyyy)" >> $Env:GITHUB_OUTPUT
      - name: Dump GitHub Output file
        shell: pwsh
        run: |
          echo "=== GITHUB_OUTPUT ==="
          type $Env:GITHUB_OUTPUT

      - name: Debug outputs
        run: |
          echo "Company: ${{ steps.setvars.outputs.COMPANY_NAME }}"
          echo "Year: ${{ steps.setvars.outputs.CURRENT_YEAR }}"

